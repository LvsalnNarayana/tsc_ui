import React, { useState } from "react";
import { Link, useLocation, useNavigate } from "react-router-dom";

import {
  Box,
  List,
  Stack,
  Drawer,
  ListItem,
  Container,
  IconButton,
  Typography,
  ListItemText,
  useMediaQuery,
} from "@mui/material";

const Header = () => {
  const navigate = useNavigate();
  const { pathname } = useLocation();
  const mobileView = useMediaQuery((theme) => {
    return theme.breakpoints.down("tablet");
  });
  const tabletView = useMediaQuery((tabletTheme) => {
    return tabletTheme.breakpoints.between("tablet", "laptop");
  });

  const links = [
    { path: "/", label: "Home" },
    { path: "/about-us", label: "About Us" },
    { path: "/products", label: "Products" },
    { path: "/services", label: "Services" },
    { path: "/contact-us", label: "Contact Us" },
  ];

  const [drawerOpen, setDrawerOpen] = useState(false);

  const handleDrawerToggle = () => {
    setDrawerOpen(!drawerOpen);
  };

  return (
    <Stack
      p={2}
      gap={3}
      direction="row"
      justifyContent="space-between"
      alignItems="center"
      width="100vw"
      maxWidth="100vw"
      height="87px"
      sx={{
        top: 0,
        left: 0,
        zIndex: 100,
        position: "fixed",
        overflowX: "hidden",
        backgroundColor: "rgba(0, 0, 0, 0.05)",
        borderBottom: "1px solid rgba(224, 224, 224, 0.10)",
      }}
    >
      <Box
        component="div"
        sx={{
          top: 0,
          left: 0,
          zIndex: 10,
          width: "100%",
          height: "100%",
          position: "absolute",
          backdropFilter: "blur(20px)",
          WebkitBackdropFilter: "blur(20px)",
          backgroundColor: "rgba(0, 0, 0, 0.05)",
        }}
      />
      <Container maxWidth="desktop">
        <Stack
          direction="row"
          justifyContent="space-between"
          alignItems="center"
          width="100%"
          sx={{
            zIndex: 40,
            position: "relative",
          }}
        >
          <Link to="/" style={{ color: "white", textDecoration: "none" }}>
            <svg
              width="96"
              height="36"
              viewBox="0 0 96 36"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.7101 3.03943C16.4976 3.03943 17.136 2.40101 17.136 1.61347C17.136 0.825927 16.4976 0.1875 15.7101 0.1875C14.9226 0.1875 14.2842 0.825927 14.2842 1.61347C14.2842 2.40101 14.9226 3.03943 15.7101 3.03943Z"
                fill="white"
              />
              <path
                d="M30.0636 11.1679C30.8511 11.1679 31.4896 10.5294 31.4896 9.74188C31.4896 8.95435 30.8511 8.31592 30.0636 8.31592C29.2761 8.31592 28.6377 8.95435 28.6377 9.74188C28.6377 10.5294 29.2761 11.1679 30.0636 11.1679Z"
                fill="white"
              />
              <path
                d="M30.1427 27.8153C30.9303 27.8153 31.5687 27.1769 31.5687 26.3893C31.5687 25.6018 30.9303 24.9634 30.1427 24.9634C29.3552 24.9634 28.7168 25.6018 28.7168 26.3893C28.7168 27.1769 29.3552 27.8153 30.1427 27.8153Z"
                fill="white"
              />
              <path
                d="M20.4291 6.22352L19.7726 6.63785C19.7726 6.63785 18.7314 7.39388 18.4382 7.44769C17.9996 7.52572 17.5288 7.03336 16.571 6.993C15.5137 6.94995 14.7038 7.14367 14.1711 7.82167C14.1711 7.82167 12.5622 9.16962 13.8079 11.0879C13.8079 11.0879 14.5343 12.4628 16.5575 11.9704C16.5575 11.9704 18.8794 11.6987 19.0085 9.33912C19.0085 9.33912 19.0435 8.63152 19.5224 8.21987C19.6273 8.13108 21.621 6.7939 21.621 6.7939C21.621 6.7939 21.8362 6.62171 21.9357 6.61902C22.0487 6.61633 22.1052 6.66745 22.3608 6.75354C22.7375 6.88269 23.324 6.97686 23.924 6.654C23.924 6.654 25.2046 5.78496 24.1823 4.45047C24.1823 4.45047 23.1707 3.29625 21.9008 4.2433C21.9008 4.2433 21.5241 4.43971 21.3734 5.05046C21.3385 5.19036 21.395 5.37332 21.3116 5.54013C21.3116 5.54282 20.9726 5.8038 20.9726 5.8038L20.4291 6.22352Z"
                fill="white"
              />
              <path
                d="M4.18165 16.872L4.85426 16.4873C4.85426 16.4873 5.92774 15.777 6.22369 15.7393C6.66492 15.6801 7.11423 16.194 8.06933 16.2774C9.12129 16.3689 9.94188 16.2129 10.5015 15.5564C10.5015 15.5564 12.1669 14.2811 11.01 12.3089C11.01 12.3089 10.3454 10.9045 8.3034 11.3054C8.3034 11.3054 5.97348 11.4722 5.73672 13.8264C5.73672 13.8264 5.66946 14.5313 5.17442 14.9214C5.0668 15.0075 3.01399 16.2532 3.01399 16.2532C3.01399 16.2532 2.79069 16.4146 2.69114 16.412C2.57814 16.4093 2.52433 16.3554 2.27412 16.2586C1.90284 16.1133 1.32171 15.9922 0.708286 16.2882C0.708286 16.2882 -0.61003 17.098 0.350458 18.4783C0.350458 18.4783 1.30826 19.6755 2.62119 18.7877C2.62119 18.7877 3.00592 18.6074 3.18618 18.0047C3.22654 17.8648 3.17811 17.6819 3.26959 17.5177C3.26959 17.5151 3.62203 17.2702 3.62203 17.2702L4.18165 16.872Z"
                fill="white"
              />
              <path
                d="M4.18165 25.1669L4.85426 24.7822C4.85426 24.7822 5.92774 24.0719 6.22369 24.0342C6.66492 23.9751 7.11423 24.4889 8.06933 24.5723C9.12129 24.6638 9.94188 24.5078 10.5015 23.8513C10.5015 23.8513 12.1669 22.576 11.01 20.6039C11.01 20.6039 10.3454 19.1994 8.3034 19.6003C8.3034 19.6003 5.97348 19.7671 5.73672 22.1213C5.73672 22.1213 5.66946 22.8262 5.17442 23.2163C5.0668 23.3024 3.01399 24.5481 3.01399 24.5481C3.01399 24.5481 2.79069 24.7096 2.69114 24.7069C2.57814 24.7042 2.52433 24.6504 2.27412 24.5535C1.90284 24.4082 1.32171 24.2872 0.708286 24.5831C0.708286 24.5831 -0.61003 25.393 0.350458 26.7732C0.350458 26.7732 1.30826 27.9705 2.62119 27.0826C2.62119 27.0826 3.00592 26.9023 3.18618 26.2997C3.22654 26.1597 3.17811 25.9768 3.26959 25.8127C3.26959 25.81 3.62203 25.5651 3.62203 25.5651L4.18165 25.1669Z"
                fill="white"
              />
              <path
                d="M11.2891 29.1084L11.9617 28.7236C11.9617 28.7236 13.0352 28.0133 13.3311 27.9757C13.7723 27.9165 14.2216 28.4303 15.1768 28.5138C16.2287 28.6052 17.0493 28.4492 17.6089 27.7927C17.6089 27.7927 19.2743 26.5174 18.1174 24.5453C18.1174 24.5453 17.4529 23.1408 15.4108 23.5417C15.4108 23.5417 13.0809 23.7085 12.8441 26.0627C12.8441 26.0627 12.7769 26.7676 12.2818 27.1577C12.1742 27.2438 10.1214 28.4895 10.1214 28.4895C10.1214 28.4895 9.89811 28.651 9.79856 28.6483C9.68556 28.6456 9.63176 28.5918 9.38154 28.4949C9.01026 28.3496 8.42913 28.2286 7.81571 28.5245C7.81571 28.5245 6.49739 29.3344 7.45788 30.7146C7.45788 30.7146 8.41568 31.9119 9.72861 31.024C9.72861 31.024 10.1133 30.8437 10.2936 30.2411C10.334 30.1012 10.2855 29.9182 10.377 29.7541C10.377 29.7514 10.7295 29.5066 10.7295 29.5066L11.2891 29.1084Z"
                fill="white"
              />
              <path
                d="M18.7539 16.7153L19.4265 16.3305C19.4265 16.3305 20.5 15.6203 20.796 15.5826C21.2372 15.5234 21.6865 16.0373 22.6416 16.1207C23.6936 16.2122 24.5141 16.0561 25.0738 15.3996C25.0738 15.3996 26.7391 14.1243 25.5822 12.1522C25.5822 12.1522 24.9177 10.7478 22.8757 11.1486C22.8757 11.1486 20.5457 11.3154 20.309 13.6696C20.309 13.6696 20.2417 14.3745 19.7467 14.7647C19.6391 14.8508 17.5863 16.0965 17.5863 16.0965C17.5863 16.0965 17.363 16.2579 17.2634 16.2552C17.1504 16.2525 17.0966 16.1987 16.8464 16.1019C16.4751 15.9566 15.894 15.8355 15.2806 16.1314C15.2806 16.1314 13.9622 16.9413 14.9227 18.3215C14.9227 18.3215 15.8805 19.5188 17.1935 18.6309C17.1935 18.6309 17.5782 18.4507 17.7584 17.848C17.7988 17.7081 17.7504 17.5251 17.8419 17.361C17.8419 17.3583 18.1943 17.1135 18.1943 17.1135L18.7539 16.7153Z"
                fill="white"
              />
              <path
                d="M15.6197 20.4515C16.9808 20.4515 18.0842 19.3481 18.0842 17.987C18.0842 16.6259 16.9808 15.5225 15.6197 15.5225C14.2586 15.5225 13.1553 16.6259 13.1553 17.987C13.1553 19.3481 14.2586 20.4515 15.6197 20.4515Z"
                fill="white"
              />
              <path
                d="M23.413 24.1465C23.413 24.1465 25.3798 23.7967 25.3717 21.7762C25.3717 21.7762 25.3663 21.1708 25.7537 20.7941C25.8048 20.7457 26.507 20.1592 26.9967 19.7798L27.4003 19.5108C27.4003 19.5108 28.1079 18.9727 28.3096 18.9296C28.611 18.8677 28.9446 19.2014 29.6064 19.2148C30.3382 19.2283 30.8952 19.083 31.253 18.6041C31.253 18.6041 32.3426 17.6462 31.4548 16.3387C31.4548 16.3387 30.9328 15.3997 29.5419 15.771C29.5419 15.771 27.9411 15.9943 27.8872 17.6274C27.8872 17.6274 27.8738 18.1171 27.5482 18.4103C27.5079 18.448 27.0209 18.7924 26.6281 19.0695L26.62 19.0588C26.62 19.0588 25.0381 20.1242 24.7879 20.1861C24.4193 20.2749 23.9915 19.8794 23.1709 19.8928C22.2669 19.909 21.5835 20.1161 21.1665 20.7215C21.1665 20.7215 19.8617 21.9537 21.0212 23.5277C21.0239 23.5331 21.7127 24.6685 23.413 24.1465Z"
                fill="white"
              />
              <path
                d="M9.85833 4.65173C9.85833 4.65173 9.43324 3.89031 8.30594 4.19165C8.30594 4.19165 7.00915 4.37191 6.9661 5.69833C6.9661 5.69833 6.95534 6.09653 6.69168 6.33329C6.6567 6.36289 3.49813 8.66865 3.3367 8.70901C3.09456 8.77089 2.81206 8.5126 2.27398 8.52874C1.68208 8.54489 1.23547 8.68479 0.966421 9.08568C0.966421 9.08568 0.118933 9.90359 0.891089 10.926C0.891089 10.926 1.35115 11.6659 2.46231 11.3107C2.46231 11.3107 3.74834 11.0686 3.7295 9.74216C3.7295 9.74216 3.72143 9.34397 3.97433 9.09644C4.00662 9.06415 7.14636 6.78261 7.31048 6.75032C7.55531 6.6992 7.82435 6.97094 8.36244 6.9817C8.95434 6.99246 9.40633 6.87408 9.6969 6.48665C9.6969 6.48934 10.5821 5.71178 9.85833 4.65173Z"
                fill="white"
              />
              <path
                d="M24.1302 29.5704C24.1302 29.5704 23.7562 28.7847 22.6101 29.0134C22.6101 29.0134 21.3026 29.113 21.1761 30.4313C21.1761 30.4313 21.1411 30.8268 20.8613 31.0474C20.8263 31.0743 17.5252 33.1756 17.3611 33.2079C17.1162 33.2537 16.8499 32.9792 16.3118 32.9604C15.7199 32.9389 15.2652 33.0519 14.9693 33.4339C14.9693 33.4339 14.0733 34.1953 14.7782 35.2662C14.7782 35.2662 15.1899 36.0329 16.3225 35.7504C16.3225 35.7504 17.622 35.589 17.6866 34.2653C17.6866 34.2653 17.7027 33.8671 17.9718 33.6357C18.0068 33.6061 21.2837 31.529 21.4505 31.5048C21.698 31.4698 21.9509 31.7577 22.4863 31.8008C23.0782 31.8492 23.5356 31.7604 23.8477 31.3918C23.8504 31.3918 24.784 30.6735 24.1302 29.5704Z"
                fill="white"
              />
              <path
                d="M58.7458 8.56201V12.022H51.9094V27.4386H47.2065V12.022H40.3701V8.56201H58.7458Z"
                fill="white"
              />
              <path
                d="M74.5005 10.0119V13.5849C72.0764 12.4952 70.142 11.949 68.7026 11.949C67.882 11.949 67.2309 12.0863 66.7467 12.3607C66.2624 12.6351 66.0202 13.001 66.0202 13.453C66.0202 13.8028 66.1951 14.1337 66.5449 14.4485C66.8946 14.7633 67.7448 15.1669 69.0954 15.6646C70.4487 16.1624 71.5303 16.6251 72.3401 17.0529C73.1526 17.4807 73.8521 18.0834 74.4413 18.8583C75.0305 19.6358 75.3238 20.6152 75.3238 21.8017C75.3238 23.494 74.6808 24.8419 73.3947 25.8455C72.1087 26.8491 70.4137 27.3495 68.3125 27.3495C66.0444 27.3495 63.8464 26.7603 61.7182 25.5818V21.6429C62.9397 22.4635 64.0212 23.0608 64.9629 23.4348C65.9045 23.8088 66.9027 23.9971 67.96 23.9971C69.7492 23.9971 70.6424 23.4348 70.6424 22.3102C70.6424 21.9254 70.4622 21.5649 70.1043 21.2259C69.7465 20.8869 68.8856 20.4726 67.5188 19.9829C66.1548 19.4959 65.0705 19.0412 64.2741 18.6215C63.4751 18.2018 62.7863 17.6045 62.2079 16.8296C61.6267 16.0521 61.3389 15.0593 61.3389 13.8459C61.3389 12.2746 61.9711 11.0074 63.2356 10.0442C64.5001 9.08097 66.1924 8.59668 68.3125 8.59668C70.2657 8.59668 72.3293 9.06752 74.5005 10.0119Z"
                fill="white"
              />
              <path
                d="M96.0012 21.5353V25.5253C93.7143 26.7388 91.3198 27.3441 88.8177 27.3441C85.573 27.3441 82.9875 26.4482 81.0638 24.6563C79.1402 22.8644 78.1797 20.6555 78.1797 18.0296C78.1797 15.4037 79.194 13.1759 81.2226 11.3437C83.2512 9.51145 85.9013 8.59668 89.1728 8.59668C91.7799 8.59668 93.9887 9.13209 95.794 10.2056V14.2763C93.5771 13.0279 91.4812 12.4064 89.5011 12.4064C87.5559 12.4064 85.9658 12.9284 84.7309 13.9696C83.496 15.0108 82.8799 16.3399 82.8799 17.9543C82.8799 19.5766 83.4879 20.9165 84.704 21.9712C85.9201 23.0259 87.4805 23.5532 89.3827 23.5532C90.3243 23.5532 91.231 23.4294 92.1054 23.1792C92.9744 22.929 94.2739 22.3828 96.0012 21.5353Z"
                fill="white"
              />
            </svg>
          </Link>
          {mobileView || tabletView ? (
            <IconButton
              onClick={handleDrawerToggle}
              sx={{ zIndex: 50, color: "white" }}
            >
              <Box component="img" src="/menu_icon.svg" />
            </IconButton>
          ) : (
            <Stack
              direction="row"
              justifyContent="flex-end"
              alignItems="center"
            >
              {links.map((link) => {
                return (
                  <Link
                    key={link.path}
                    className="lato"
                    to={link.path}
                    style={{
                      gap: "4px",
                      fontSize: 16,
                      lineHeight: 1,
                      color: "white",
                      fontWeight: 400,
                      display: "flex",
                      cursor: "pointer",
                      padding: "10px 24px",
                      alignItems: "center",
                      borderRadius: "99px",
                      textDecoration: "none",
                      justifyContent: "center",
                      transition: "background-color 0.3s ease-in-out",
                      backgroundColor:
                        pathname === link.path
                          ? "rgba(255, 255, 255, 0.10)"
                          : "transparent",
                    }}
                  >
                    {link.label}
                  </Link>
                );
              })}
            </Stack>
          )}
          <Drawer anchor="right" open={drawerOpen} onClose={handleDrawerToggle}>
            <Box
              sx={{
                width: 250,
                height: "100%",
                color: "white",
                backgroundColor: "rgba(0, 0, 0, 0.8)",
              }}
            >
              <List>
                {links.map((link) => {
                  return (
                    <ListItem
                      button
                      key={link.path}
                      onClick={handleDrawerToggle}
                    >
                      <Typography
                        onClick={() => {
                          return navigate(link.path, { replace: true });
                        }}
                        style={{
                          width: "100%",
                          color: "white",
                          fontSize: 16,
                          fontWeight: 400,
                          textDecoration: "none",
                        }}
                      >
                        <ListItemText primary={link.label} />
                      </Typography>
                    </ListItem>
                  );
                })}
              </List>
            </Box>
          </Drawer>
        </Stack>
      </Container>
    </Stack>
  );
};

export default Header;
